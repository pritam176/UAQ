<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>UAQ</title>
		<link href="css/app.css" rel="stylesheet">
		<!--<link rel="shortcut icon" href="" type="image/x-icon" />-->
		<script src="js/libs/jquery.min.js"></script>
		<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
		<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		<!--[if lt IE 9]>
		<script src="js/ie.min.js"></script>
		<![endif]-->
	</head>
	<!-- body -->
	<body>
		<div class="container-fluid">
			<div class="wrapper">
				<!-- content area -->
				<div class="content">
					<div class="row">
			
						<div class="col-xs-12 col-sm-9 col-md-9 main-left-col">
							 <!-- page title here -->
		                        <div class="page-title-wrap">
									<div class="row">
										<div class="col-xs-12 col-sm-9 col-md-10 title-txt">
											<!-- sub page title -->
											<h4 class="page-title-sub">
											MUNICIPALITY
											</h4>
											<!-- /sub page title -->
											<!-- page title -->
											<h2 class="page-title">
												NEW WASTE CONTAINER REGISTRATION REQUEST
											</h2>
											<!-- /page title -->
										</div>
										<div class="hidden-xs show-sm col-md-2 title-icon">
											<img src="img/icons/icon-uaq.png" alt="uaq">
										</div>
									</div>
								</div>
                        	<!-- /page title here -->
							<div class="main-content-wrap">
								<div class="page-content-wrap">
										<div class="form-content cf">
											<form name="new_waist_container_form" id="new_waist_container_form" enctype="multipart/form-data" > 
												<!-- map search element -->
												<div class="row">
	                                            	<div class="form-group cf">
		                                                <div class="col-md-3">
		                                                    <label for="search_location" class="form-lbl">Find Location
		                                                    </label>
			                                            </div>
			                                            <div class="col-md-9">
		                                                    <input type="text" class="form-control" id="search_location" placeholder="Search Keyword" required />
		                                                    <button id="trigger-search" class="inline-btn inline-search-btn"></button>
		                                                </div>
	                                            	</div>
	                                        	</div>
	                                        	<!-- /map search element -->

	                                        	<!-- location map -->
												<div class="row">
	                                            	<div class="form-group cf">
		                                                <div class="col-md-3">
		                                                    <label class="form-lbl">Location
		                                                    </label>
			                                            </div>
			                                            <div class="col-md-9">
		                                                    <div id="map-canvas" class="location-map"></div>
		                                                </div>
	                                            	</div>
	                                        	</div>
	                                        	<!-- /location map -->

	                                        	<!-- address element -->
												<div class="row">
	                                            	<div class="form-group cf">
		                                                <div class="col-md-3">
		                                                    <label class="form-lbl">Address
		                                                    </label>
			                                            </div>
			                                            <div class="col-md-9">
		                                                    <input type="text" class="form-control" placeholder="Keyword" name="keyword" required />
		                                                </div>
	                                            	</div>
	                                        	</div>
	                                        	<!-- /address element -->

	                                        	<!-- service type -->
												<div class="row">
	                                            	<div class="form-group cf">
		                                                <div class="col-md-3">
		                                                    <label class="form-lbl">Service Type
		                                                    </label>
			                                            </div>
			                                            <div class="col-md-9">
			                                            	<!-- radio button -->
			                                            	<div class="col-md-3 remove-pad">
			                                                    <div class="radio inline-custom">
		                                                            <input id="new_container" type="radio" name="container" value="new">
		                                                            <label for="new_container" class="custom">New Container</label>
		                                                        </div>
															</div>
															<!-- /radio button -->
															<!-- radio button -->
															<div class="col-md-3 remove-pad">
		                                                        <div class="radio inline-custom">
		                                                            <input id="replacement" type="radio" name="container" value="replacement">
		                                                            <label for="replacement" class="custom">Replacement</label>
		                                                        </div>
		                                                    </div>
															<!-- /radio button -->
															<!-- text box -->
		                                                    <div class="col-md-6 remove-pad">
		                                                    	<div class="col-md-4 remove-pad">
				                                                    <label class="form-lbl">Replacement Reason</label>
					                                            </div>
					                                            <div class="col-md-8 remove-pad">
				                                                    <input type="text" class="form-control" placeholder="Keyword" name="reason" required/>
				                                                </div>
		                                                    </div>
		                                                    <!-- /text box -->
		                                                </div>
	                                            	</div>
	                                        	</div>
	                                        	<!-- /address element -->

	                                        	<!-- attachments element -->
												<!-- <div class="row">
	                                            	<div class="form-group cf">
		                                                <div class="col-md-3">
		                                                    <label class="form-lbl">Attachments
		                                                    </label>
			                                            </div>
			                                            <div class="col-md-9">
		                                                    <div class="input-group file-upload">
		                                                        <input type="text" class="form-control" readonly />
	                                                        	<span class="input-group-btn">
		                                                			<span class="btn btn-file">
		                                                				Browse&hellip; 
		                                                				<input type="file" multiple>
		                                                			</span>
	                                                        	</span>
		                                                    </div>
		                                                </div>
	                                            	</div>
	                                        	</div>  -->

													<div class="row ">
														<div class="form-group cf">
															<div class="col-md-3">
			                                                    <label class="form-lbl" for="firstname">Attachments
			                                                    </label>
			                                                </div>
			                                                <div class="col-md-9">
				                                                <div class="col-md-6">
																	<input type="file" accept="image/*;capture=camera" onclick="doShowCamera()" class="capture_btn xform-control xcol-md-6 xcol-sx-12"> <div class="imgeplaceholder"></div>
																</div>
																<div class="col-md-6 remove-pad">
																	<div id="dropbox_btn" class="xcol-md-6 xcol-sx-12 form-control-drpbox"><span>OR</span></div>
																</div>
															</div>
			                                            </div>
														
													</div>

	                                        	<!-- /attachments element -->

												<!-- submit button -->
	                                        	<div class="row">
		                                            <div class="form-group">
		                                                <div class="col-md-offset-3 col-md-9">
		                                                    <input type="submit" class="btn form-control-btnsbmt" value="Submit" />
		                                                    <input type="reset" class="btn form-control-btnsbmt"value="Reset" />
		                                                </div>
		                                            </div>
		                                        </div>
		                                        <!-- /submit button -->
	                                    	</form>
										</div>
								</div>
							</div>
						</div>
						<!-- /left col -->
					</div>
				</div>
				<!-- /content area -->
			</div>
		</div>
		<!-- script -->
		<script src="js/dest/app.js"></script>
		<script src="js/libs/jquery.validate.js"></script>
		<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&libraries=places"></script>
		<script type="text/javascript" src="https://www.dropbox.com/static/api/2/dropins.js" id="dropboxjs" data-app-key="zsevgpc8j0wf8j7"></script>
	   <script>
		    function doShowCamera() {
					photoNumber++;
					Ti.App.fireEvent('choosePicture', {
						filename : photoNumber + ".png"
					});
					(".imgeplaceholder").html(filename);
				}
				
		options = {
				// Required. Called when a user selects an item in the Chooser.
				success: function(files) {
					//alert("Here's the file link: " + files[0].link)
					//$("#dropboxlink").html(files[0].link);
				},

				// Optional. Called when the user closes the dialog without selecting a file
				// and does not include any parameters.
				cancel: function() {

				},

				// Optional. "preview" (default) is a preview link to the document for sharing,
				// "direct" is an expiring link to download the contents of the file. For more
				// information about link types, see Link types below.
				linkType: "direct", // or "direct/preview"

				// Optional. A value of false (default) limits selection to a single file, while
				// true enables multiple file selection.
				multiselect: false, // or true

				// Optional. This is a list of file extensions. If specified, the user will
				// only be able to select files with these extensions. You may also specify
				// file types, such as "video" or "images" in the list. For more information,
				// see File types below. By default, all extensions are allowed.
				extensions: ['.png', '.jpg', '.jpeg'],
			};

		var button = Dropbox.createChooseButton(options);
		document.getElementById("dropbox_btn").appendChild(button);
        function initialize() {

            var markers = [];
            var map = new google.maps.Map(document.getElementById('map-canvas'), {
                mapTypeId: google.maps.MapTypeId.ROADMAP
            });

            var defaultBounds = new google.maps.LatLngBounds(
                new google.maps.LatLng(-33.8902, 151.1759),
                new google.maps.LatLng(-33.8474, 151.2631));
            map.fitBounds(defaultBounds);

            // search input.
            var input = (document.getElementById('search_location'));

            var searchBox = new google.maps.places.SearchBox(
                /** @type {HTMLInputElement} */
                (input));

            // pick list. Retrieve the matching places.
            google.maps.event.addListener(searchBox, 'places_changed', function() {
                var places = searchBox.getPlaces();

                if (places.length == 0) {
                    return;
                }
                for (var i = 0, marker; marker = markers[i]; i++) {
                    marker.setMap(null);
                }

                // For each place, get the icon, place name, and location.
                markers = [];
                var bounds = new google.maps.LatLngBounds();
                for (var i = 0, place; place = places[i]; i++) {
                    var image = {
                        url: place.icon,
                        size: new google.maps.Size(71, 71),
                        origin: new google.maps.Point(0, 0),
                        anchor: new google.maps.Point(17, 34),
                        scaledSize: new google.maps.Size(25, 25)
                    };

                    // Create a marker for each place.
                    var marker = new google.maps.Marker({
                        map: map,
                        icon: image,
                        title: place.name,
                        position: place.geometry.location
                    });

                    markers.push(marker);

                    bounds.extend(place.geometry.location);
                }

                map.fitBounds(bounds);
            });

            google.maps.event.addListener(map, 'bounds_changed', function() {
                var bounds = map.getBounds();
                searchBox.setBounds(bounds);
            });

            // Trigger search on button click
            document.getElementById('trigger-search').onclick = function() {

                var input = document.getElementById('pac-input');

                google.maps.event.trigger(input, 'focus')
                google.maps.event.trigger(input, 'keydown', {
                    keyCode: 13
                });
            };
        }

        google.maps.event.addDomListener(window, 'load', initialize);

         jQuery(function($) {  $("#new_waist_container_form").validate(); });

    </script>
		<!-- /script -->
	</body>
	<!-- /body -->
</html>